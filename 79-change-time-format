public String changeTimeFormat(String strTime) {
    if (String.isBlank(strTime)) {
        return null;
    }
    
    strTime = strTime.trim();
    
    try {
        String hourStr = strTime.substringBefore(':');
        String minuteStr = strTime.substringAfter(':');
        Integer hour = Integer.valueOf(hourStr);
        
        if (hour < 0 || hour > 23 || Integer.valueOf(minuteStr) > 59) {
            return null; // Invalid hour or minute
        }
        
        String period = (hour < 12) ? 'AM' : 'PM';
        Integer hour12 = (hour == 0) ? 12 : (hour > 12 ? hour - 12 : hour);
        
        return String.format('%02d:%s %s', new List<Object>{ hour12, minuteStr, period });
    } catch (Exception e) {
        System.debug('Error in changeTimeFormat: ' + e.getMessage());
        return null;
    }
}
